
<!DOCTYPE html>
<html lang="en" ng-app="lush">

<head>
     <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head
         content must come *after* these tags -->
    <title>TaskZone</title>
        <!-- Bootstrap -->
    
    <!-- build:css styles/main.css -->
    <link href="styles/bootstrap.min.css" rel="stylesheet">
    <link href="styles/bootstrap-theme.min.css" rel="stylesheet">
    <link href="styles/font-awesome.min.css" rel="stylesheet">
    <link href="styles/bootstrap-social.css" rel="stylesheet">
    <link href="styles/mystyles.css" rel="stylesheet">
    <!-- endbuild -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body ng-click='' ng-controller="UserController">
    
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#"><img src="images/logo.png" height=30 width=41></a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#"><span class="glyphicon glyphicon-home"
                         aria-hidden="true"></span> Assign Tasks</a></li>
                    <li><a href="#"><i class="fa fa-envelope-o"></i> Profile</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li ng-show="user.isManager == true"><a id="addUserButton">
                    <span class="glyphicon glyphicon-log-in"></span> Add User</a>
                    </li>
                    <li><a>
                        Wellcome, {{user.fullname}}</a>
                    </li>
<!--
                    <li><a id="loginButton">
                    <span class="glyphicon glyphicon-log-in"></span> Login</a>
                    </li>
-->
                </ul>
                </div> 
            </div>
        </nav>
    <div id="loginModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Login </h4>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="sr-only" for="username">Username</label>
                        <input type="email" class="form-control" id="username" placeholder="Username">
                    </div>
                    <div class="form-group">
                        <label class="sr-only" for="password">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Password">
                    </div>
                    <div class="checkbox">
                        <label><input type="checkbox"> Remember me</label>
                    </div>
                    <button type="submit" class="btn btn-info">Sign in</button>
                    <button type="button" class="btn btn-default"
                       data-dismiss="modal">Cancel</button>
                </form>
            </div>
        </div>
        </div>
    </div>
    
    <div id="addUserModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add User </h4>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-group">
                        <label class="sr-only" for="username">Username</label>
                        <input type="text" class="form-control" id="usernameNew" placeholder="Username">
                    </div>
                    <div class="form-group">
                        <label class="sr-only" for="password">Password</label>
                        <input type="password" class="form-control" id="passwordNew" placeholder="Password">
                    </div>
                    <button type="submit" class="btn btn-info">Add User</button>
                    <button type="button" class="btn btn-default"
                       data-dismiss="modal">Cancel</button>
                </form>
            </div>
        </div>
        </div>
    </div>
    
    <div class="container">
        <div class="row row-content" ng-controller="TaskController">
            <div class="col-xs-12">
            </div>
            <div class="col-xs-12 col-sm-9 col-sm-offset-1">
                <div class="col-xs-9 marginTopBottom">
            <a ng-show="user.isManager == true" id="addTaskButton" class="btn icon-btn btn-success" href="#">
            <span class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span>
            Add
            </a>
            </div>
                <div class="row">
                    
<!--
                <div class="col-xs-12 col-sm-3 col-sm-push-9">
                    <h3>
                    Sort by:
                     </h3>
                    <div type="button" class="btn-group">
                      
                    <label class="btn btn-success" ng-repeat="sort in sortList" for="{{sort}}" ng-class="{'active' : testObject(sort)}">
                   <input style='display:none'
                          type="radio"
                          class="list-group-item list-group-item-action"
                          ng-model="sortBy.choose"
                          ng-value="sort"
                          id="{{sort}}"
                          name="choose"><h4>{{sort}}</h4>
                   </input>
                 </label>
                    </div>    
               <div>You chose {{sortBy.choose}}</div>
                                 
                </div>
-->
                
                <div class="col-xs-12 col-sm-9 marginTopBottom">
                <ul class="nav nav-tabs" role="tablist">
                    
                    <li role="presentation"><a href="#allList"
                     aria-controls="allList" role="tab"
                     data-toggle="tab">ALL</a></li>
                    <li role="presentation" class="active">
                    <a href="#assignList" aria-controls="assignList"
                     role="tab" data-toggle="tab">Unfinished tasks</a></li>
                    
                    <li role="presentation"><a href="#historyList"
                     aria-controls="historyList" role="tab"
                     data-toggle="tab">Done</a></li>
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">
                    
                    <div role="tabpanel" class="tab-pane fade in active" id="assignList">
                        <blockquote ng-repeat="task in tasks | filter: filterAssign | orderBy:sortBy.choose">
                          <div class="row">
                            <div class="col-xs-10 media">
                            <div class="media-body">
                            <h2 class="media-heading">
                            {{task.title}}
                            </h2>
                            <footer class="marginTopBottom">
                            {{task.deadline | date}}
                        </footer>
                                
                        </div>
                            <button data-toggle="modal" href='#taskModalAssign{{task.id}}' id="taskItem" class="marginTopBottom btn btn-lg btn-primary btn-small"><span data-toggle="tooltip" title="Done" class="glyphicon glyphicon-edit"></span></button>
                            
                        </div>
                              <div class="col-xs-2">
                            <button data-toggle="tooltip" title="Done" class="btn btn-lg btn-success"
                                    id="taskDoneButton"
                                    ng-show="!task.isDone" ng-click="taskDoneFunc(task)"><span class="glyphicon glyphicon-check"></span></button>
                            
                            <button data-toggle="tooltip" title="Delete" class="marginTopBottom btn btn-lg btn-danger"
                                    id="taskDeleteButton"
                                    ng-show="!task.isDone" ng-click="taskDeleteFunc(task)"><span class="glyphicon glyphicon-remove"></span></button>
                              </div>
                            </div>   
                            <div id="taskModalAssign{{task.id}}" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">{{task.title}}</h4>
                        </div>
                        <div class="modal-body">
                            <form id="editTaskFormAssign" ng-submit="editTaskAssign(task, task.id)" novalidate role="form">
                                
                                <div class="form-group">
                        <label for="text" class="col-sm-3 control-label">Title</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="textEditAssign{{task.id}}" name="text" value="{{task.title}}" required>
                        </div>
                    </div>
                                <div class="form-group">
                        <label for="description" class="col-sm-3 control-label">Description</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="descriptionEditAssign{{task.id}}" name="description" value="{{task.description}}">  
                        </div>
                    </div>
                                
                                <div class="form-group" id="dueDateEditAssign">
                         <label for="dueDate" class="col-sm-3 control-label">Due Date</label>
                         <div class="col-sm-9 has-feedback">
                             <input type="text" class="form-control" id="dueDateAssign{{task.id}}" aria-describedby="dueDate" placeholder="Date">
                             <i class="glyphicon glyphicon-calendar form-control-feedback" aria-hidden="true"></i>
                                    </div>                         
                   </div>
                                
                                
                        
                                <button type="submit" class="btn btn-info">Edit</button>
                                <button type="button" class="btn btn-default"
                                   data-dismiss="modal">Cancel</button>
                            </form>
                        </div>
                    </div>
                    </div>
                </div>
                            
                    </blockquote>
                    </div>
                     
                    <div role="tabpanel" class="tab-pane fade" id="historyList">
                        <blockquote ng-repeat="task in tasks | filter: filterHistory | orderBy:sortBy.choose">
                          <div class="row">
                            <div class="col-xs-10 media">
                            <div class="media-body">
                            <h2 class="media-heading">
                            {{task.text}}
                            </h2>
                            <footer class="marginTopBottom">
                            {{task.dueDate | date}}
                        </footer>
                                
                        </div>
                            <button data-toggle="modal" href='#taskModalHistory{{task.id}}' id="taskItem" class="marginTopBottom btn btn-lg btn-primary btn-small"><span data-toggle="tooltip" title="Done" class="glyphicon glyphicon-edit"></span></button>
                            
                        </div>
                            <div class="col-xs-2">
                            <button data-toggle="tooltip" title="Delete" class="marginTopBottom btn btn-lg btn-danger"
                                    id="taskDeleteButton" ng-click="taskDeleteFunc(task)"><span class="glyphicon glyphicon-remove"></span></button>
                            </div>    
                            </div>
                            <div id="taskModalHistory{{task.id}}" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">{{task.text}}</h4>
                        </div>
                        <div class="modal-body">
                            <form id="editTaskFormHistory" ng-submit="editTaskHistory(task, task.id)" novalidate role="form">
                                
                                <div class="form-group">
                        <label for="text" class="col-sm-3 control-label">Title</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="textEditHistory{{task.id}}" name="text" value="{{task.text}}" required>  
                        </div>
                    </div>
                                <div class="form-group">
                        <label for="description" class="col-sm-3 control-label">Description</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="descriptionEditHistory{{task.id}}" name="description" value="{{task.description}}">  
                        </div>
                    </div>
                                    
                                <div class="form-group" id="dueDateEditHistory">
                         <label for="dueDate" class="col-sm-3 control-label">Due Date</label>
                         <div class="col-sm-9 has-feedback">
                             <input type="text" class="form-control" id="dueDateHistory{{task.id}}" aria-describedby="dueDate" placeholder="Date">
                             <i class="glyphicon glyphicon-calendar form-control-feedback" aria-hidden="true"></i>
                                    </div>                         
                   </div>
                        
                                <button type="submit" class="btn btn-info">Edit</button>
                                <button type="button" class="btn btn-default"
                                   data-dismiss="modal">Cancel</button>
                            </form>
                        </div>
                    </div>
                    </div>
                </div>
                            
                    </blockquote>
                    </div>
                    
                    <div role="tabpanel" class="tab-pane fade" id="allList">
                        <blockquote ng-repeat="task in tasks">
                            <div class="row">
                        <div class="col-xs-10 media">
                            <div class="media-body">
                            <h2 class="media-heading">
                            {{task.text}}
                            </h2>
                            <footer class="marginTopBottom">
                            {{task.dueDate | date}}
                        </footer>
                                
                        </div>
                            <button data-toggle="modal" href='#taskModalAll{{task.id}}' id="taskItem" class="marginTopBottom btn btn-lg btn-primary btn-small"><span data-toggle="tooltip" title="Done" class="glyphicon glyphicon-edit"></span></button>
                            
                        </div>
                            <div class="col-sm-2">
                                <button data-toggle="tooltip" title="Done" class="btn btn-lg btn-success"
                                    id="taskDoneButton"
                                    ng-show="!task.isDone" ng-click="taskDoneFunc(task)"><span class="glyphicon glyphicon-check"></span></button>
                            <button data-toggle="tooltip" title="Delete" class="marginTopBottom btn btn-lg btn-danger"
                                    id="taskDeleteButton" ng-click="taskDeleteFunc(task)"><span class="glyphicon glyphicon-remove"></span></button>
                            </div>    
                        </div>    
                            <div id="taskModalAll{{task.id}}" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">{{task.text}}</h4>
                        </div>
                        <div class="modal-body">
                            <form id="editTaskFormAll" ng-submit="editTaskAll(task, task.id)" novalidate role="form">
                                
                                <div class="form-group">
                        <label for="text" class="col-sm-3 control-label">Title</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="textEditAll{{task.id}}" name="text" value="{{task.text}}" required>  
                        </div>
                    </div>
                                <div class="form-group">
                        <label for="description" class="col-sm-3 control-label">Description</label>
                        <div class="col-sm-9">
                        <input type="text" class="form-control" id="descriptionEditAll{{task.id}}" name="description" value="{{task.description}}">  
                        </div>
                    </div>
                                
                                <div class="form-group" id="dueDateEditAll">
                         <label for="dueDate" class="col-sm-3 control-label">Due Date</label>
                         <div class="col-sm-9 has-feedback">
                             <input type="text" class="form-control" id="dueDateAll{{task.id}}" aria-describedby="dueDate" placeholder="Date">
                             <i class="glyphicon glyphicon-calendar form-control-feedback" aria-hidden="true"></i>
                                    </div>                         
                   </div>
                        
                                <button type="submit" class="btn btn-info">Edit</button>
                                <button type="button" class="btn btn-default"
                                   data-dismiss="modal">Cancel</button>
                            </form>
                        </div>
                    </div>
                    </div>
                </div> 
                            
                    </blockquote>
                    </div>
                    
                </div>

                                    
            </div>
            </div>        
            
            </div>
                
            
        <div id="addTaskModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add task </h4>
            </div>
            <div class="modal-body">
                <div ng-controller="TaskFormController">
                <form id="submitTaskForm" class="form-horizontal" name="taskForm"
                		ng-submit="submitTask()" novalidate role="form">
                    
                    <div class="form-group" ng-class="{ 'has-error' : taskForm.title.$error.required && !taskForm.title.$pristine }">
                        <label for="title" class="col-sm-2 control-label">Title</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="title" name="title" placeholder="Enter Title"
                        ng-model="taskObject.title" required>
                        <span ng-show="taskForm.title.$error.required && !taskForm.title.$pristine" class="help-block">Title is required.</span>    
                        </div>
                    </div>
                    
                    <div class="form-group" ng-class="{ 'has-error' : taskForm.assignee.$error.required && !taskForm.assignee.$pristine }">
                        <label for="assignee" class="col-sm-2 control-label">Assignee</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="assignee" name="assignee" placeholder="Enter Assignee"
                        ng-model="taskObject.assignee" required>
                        <span ng-show="taskForm.assignee.$error.required && !taskForm.assignee.$pristine" class="help-block">Assignee name is required.</span>    
                        </div>
                    </div>
                    
<!--
                    <div class="form-group" ng-class="{ 'has-error' : taskForm.assigner.$error.required && !taskForm.assigner.$pristine }">
                        <label for="assigner" class="col-sm-2 control-label">Enter your name</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="assigner" name="assigner" placeholder="Enter your name"
                        ng-model="taskObject.assigner" required>
                        <span ng-show="taskForm.assigner.$error.required && !taskForm.assigner.$pristine" class="help-block">Your Name is required.</span>    
                        </div>
                    </div>
                    
                    <div class="form-group">
                            <label for="isPersonal" class="col-sm-2 control-label">Personal Task</label>
                        <div class="radio col-sm-5">
                            <label class="radio-inline">
                                <input type="radio"
                                ng-model="taskObject.isPersonal" ng-value="true">
                                <strong>Yes</strong>
                            </label>
                            <label class="radio-inline">
                                <input type="radio"
                                ng-model="taskObject.isPersonal" ng-value="false">
                                <strong>No</strong>
                            </label>
                        </div>
                    </div>
-->
                   
                    <div class="form-group" ng-class="{ 'has-error' : taskForm.description.$error.required && !taskForm.description.$pristine }">
                        <label for="description" class="col-sm-2 control-label">Task Description</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" rows="12" name="description"
                                ng-model="taskObject.description" required>
                            </textarea>
                            <span ng-show="taskForm.description.$error.required && !taskForm.description.$pristine" class="help-block">The description is required.</span>
                        </div>
                    </div> 
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-primary" ng-disabled="taskForm.$invalid">Submit Task</button>
                            <button type="button" class="btn btn-default"
                            data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                    
                </form>
                </div>  
            </div>
        </div>
        </div>
        </div>
        </div>
    </div>
    
    <!-- build:js scripts/main.js -->
    <script src="lib/jquery.min.js"></script>
    <script src="lib/jquery.cookie.js"></script>
    <script src="lib/jquery-ui.min.js"></script>
    <script src="lib/bootstrap.min.js"></script>
  <script src="lib/angular.js"></script>
  <script src="scripts/app.js"></script>
    <script src="scripts/myscript.js"></script>
    <script src="scripts/ajax.js"></script>
    <!-- endbuild -->
</body>

</html>
